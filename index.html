<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>International GPA Calculator</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  padding: 30px;
}
.container {
  max-width: 800px;
  margin: auto;
  background: white;
  padding: 25px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
h1 {
  text-align: center;
}
.course {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr auto;
  gap: 10px;
  margin-bottom: 10px;
}
input, select, button {
  padding: 8px;
  font-size: 14px;
}
button {
  cursor: pointer;
}
.add-btn {
  margin-top: 10px;
}
.result {
  margin-top: 20px;
  font-size: 18px;
  font-weight: bold;
}
.small {
  color: #666;
  font-size: 13px;
}
.remove {
  background: #ff4d4f;
  color: white;
  border: none;
  border-radius: 4px;
}
</style>
</head>

<body>
<div class="container">
  <h1>International GPA Calculator</h1>
  <p class="small">
    Supports letter grades, credit weighting, and 4.0 / 4.3 scales.
  </p>

  <label>GPA Scale:</label>
  <select id="scale">
    <option value="4.0">4.0 Scale</option>
    <option value="4.3">4.3 Scale</option>
  </select>

  <hr>

  <div id="courses"></div>

  <button class="add-btn" onclick="addCourse()">+ Add Course</button>
  <button onclick="calculateGPA()">Calculate GPA</button>

  <div class="result" id="result"></div>
</div>

<script>
const gradeMap4 = {
  "A+": 4.0, "A": 4.0, "A-": 3.7,
  "B+": 3.3, "B": 3.0, "B-": 2.7,
  "C+": 2.3, "C": 2.0, "C-": 1.7,
  "D": 1.0, "F": 0.0
};

const gradeMap43 = {
  "A+": 4.3, "A": 4.0, "A-": 3.7,
  "B+": 3.3, "B": 3.0, "B-": 2.7,
  "C+": 2.3, "C": 2.0, "C-": 1.7,
  "D": 1.0, "F": 0.0
};

function addCourse() {
  const div = document.createElement("div");
  div.className = "course";
  div.innerHTML = `
    <input placeholder="Course name (optional)">
    <select>
      <option>A+</option><option>A</option><option>A-</option>
      <option>B+</option><option>B</option><option>B-</option>
      <option>C+</option><option>C</option><option>C-</option>
      <option>D</option><option>F</option>
    </select>
    <input type="number" step="0.5" placeholder="Credits">
    <button class="remove" onclick="this.parentElement.remove()">âœ•</button>
  `;
  document.getElementById("courses").appendChild(div);
}

function calculateGPA() {
  const scale = document.getElementById("scale").value;
  const map = scale === "4.3" ? gradeMap43 : gradeMap4;

  const courses = document.querySelectorAll(".course");
  let totalPoints = 0;
  let totalCredits = 0;

  courses.forEach(course => {
    const grade = course.children[1].value;
    const credits = parseFloat(course.children[2].value);

    if (!isNaN(credits)) {
      totalPoints += map[grade] * credits;
      totalCredits += credits;
    }
  });

  if (totalCredits === 0) {
    document.getElementById("result").innerText = "Please enter valid courses.";
    return;
  }

  const gpa = (totalPoints / totalCredits).toFixed(2);

  document.getElementById("result").innerHTML = `
    GPA: <strong>${gpa}</strong><br>
    Total Credits: ${totalCredits}
  `;
}

addCourse();
</script>
</body>
</html>
