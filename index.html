<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>GradPath Â· Academic Planner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
:root{
  --bg:#0b1020;
  --card:#11162a;
  --border:#1f2a44;
  --primary:#4f8cff;
  --good:#4ade80;
  --warn:#facc15;
  --bad:#f87171;
  --muted:#94a3b8;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,Arial,sans-serif;
  background:linear-gradient(180deg,#0b1020,#020617);
  color:#e5e7eb;
}
.container{
  max-width:1100px;
  margin:auto;
  padding:28px;
}
header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:28px;
}
header h1{
  margin:0;
  font-size:28px;
}
.badge{
  padding:6px 12px;
  border-radius:999px;
  font-size:12px;
  background:#1e293b;
}
.pro{background:#2a1f00;color:#facc15}
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  padding:20px;
  margin-bottom:20px;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
}
label{
  font-size:12px;
  color:var(--muted);
}
input,select{
  width:100%;
  padding:10px;
  margin-top:6px;
  margin-bottom:14px;
  border-radius:10px;
  border:1px solid var(--border);
  background:#020617;
  color:#e5e7eb;
}
button{
  padding:10px 16px;
  border-radius:10px;
  border:none;
  background:var(--primary);
  color:white;
  font-weight:600;
  cursor:pointer;
}
button.secondary{
  background:#1e293b;
}
button.locked{
  background:#334155;
  cursor:not-allowed;
}
.course{
  border-top:1px dashed var(--border);
  padding-top:10px;
  margin-top:10px;
}
.stat{
  font-size:26px;
  font-weight:700;
}
.good{color:var(--good)}
.warn{color:var(--warn)}
.bad{color:var(--bad)}
.paywall{
  border:1px dashed var(--warn);
  border-radius:12px;
  padding:14px;
  background:#0b1020;
}
footer{
  text-align:center;
  color:var(--muted);
  font-size:12px;
  margin-top:30px;
}
</style>
</head>

<body>
<div class="container">

<header>
  <h1>ðŸŽ“ GradPath</h1>
  <span id="planBadge" class="badge">Free</span>
</header>

<div class="grid">

<div class="card">
  <h3>Account</h3>
  <p>Plan: <strong id="planText">Free</strong></p>
  <button onclick="upgrade()">Upgrade to Pro</button>
</div>

<div class="card">
  <h3>Graduation Goal</h3>
  <label>Total Credits Required</label>
  <input id="totalCredits" type="number" value="120">
  <label>Target GPA</label>
  <input id="targetGPA" type="number" step="0.01" value="3.2">
</div>

<div class="card">
  <h3>Current Status</h3>
  <div class="stat" id="currentGPA">â€”</div>
  <div id="creditStatus"></div>
</div>

</div>

<div class="card">
  <h3>Courses</h3>
  <div id="courses"></div>
  <button class="secondary" onclick="addCourse()">+ Add Course</button>
</div>

<div class="card">
  <h3>Graduation Forecast <span style="color:var(--warn)">Pro</span></h3>
  <div id="forecast"></div>
</div>

<footer>
  GradPath Â· Academic Planning for International Students
</footer>

</div>

<script>
let isPro = localStorage.getItem("gradpath_pro")==="true";
let courses = JSON.parse(localStorage.getItem("gradpath_courses")||"[]");

function upgrade(){
  isPro=true;
  localStorage.setItem("gradpath_pro","true");
  render();
}

function addCourse(name="",grade="",credit=3){
  courses.push({name,grade,credit});
  save();
}
function save(){
  localStorage.setItem("gradpath_courses",JSON.stringify(courses));
  render();
}

function gradeToGPA(g){
  if(!isNaN(g)){
    if(g>=90)return 4;
    if(g>=80)return 3.7;
    if(g>=70)return 3;
    if(g>=60)return 2;
    return 0;
  }
  return {A:4,"A-":3.7,B+:3.3,B:3,B-:2.7,C:2,D:1,F:0}[g]||0;
}

function render(){
  document.getElementById("planText").innerText=isPro?"Pro":"Free";
  document.getElementById("planBadge").innerText=isPro?"PRO":"Free";
  document.getElementById("planBadge").className="badge "+(isPro?"pro":"");

  const box=document.getElementById("courses");
  box.innerHTML="";
  courses.forEach((c,i)=>{
    box.innerHTML+=`
      <div class="course">
        <input placeholder="Course" value="${c.name}"
          onchange="courses[${i}].name=this.value;save()">
        <input placeholder="Grade / %" value="${c.grade}"
          onchange="courses[${i}].grade=this.value;save()">
        <input type="number" value="${c.credit}"
          onchange="courses[${i}].credit=this.value;save()">
      </div>
    `;
  });

  calculate();
}

function calculate(){
  let total=0,credits=0;
  courses.forEach(c=>{
    total+=gradeToGPA(c.grade)*c.credit;
    credits+=Number(c.credit);
  });
  let gpa=credits?total/credits:0;
  document.getElementById("currentGPA").innerText=
    credits?gpa.toFixed(2):"â€”";
  document.getElementById("creditStatus").innerText=
    `${credits} credits completed`;

  const totalReq=+document.getElementById("totalCredits").value;
  const target=+document.getElementById("targetGPA").value;
  const remain=totalReq-credits;
  const need=remain>0?((target*(credits+remain)-total)/remain):0;

  const f=document.getElementById("forecast");
  if(!isPro){
    f.innerHTML=`
      <div class="paywall">
        ðŸ”’ Unlock graduation prediction & advisor insights with Pro
      </div>`;
    return;
  }

  let msg="";
  if(need>4) msg=`<span class="bad">Target GPA is mathematically impossible.</span>`;
  else if(need>3.7) msg=`<span class="warn">You need near-perfect performance going forward.</span>`;
  else msg=`<span class="good">Target achievable. Required avg GPA: ${need.toFixed(2)}</span>`;

  f.innerHTML=msg;
}

render();
</script>
</body>
</html>
